{"ast":null,"code":"var _jsxFileName = \"/Users/premkalyandavidrajgai/Desktop/Fullstack/Project 3test/hospital-management-system/frontend/src/pages/AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Container, Typography, List, ListItem, ListItemText, Button, Paper } from \"@mui/material\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminDashboard() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [appointments, setAppointments] = useState([]);\n  useEffect(() => {\n    fetchUsers();\n    fetchAppointments();\n  }, []);\n  const fetchUsers = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5000/api/admin/users\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setUsers(res.data);\n    } catch (error) {\n      console.error(\"Error fetching users:\", error);\n    }\n  };\n  const fetchAppointments = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5000/api/admin/appointments\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setAppointments(res.data);\n    } catch (error) {\n      console.error(\"Error fetching appointments:\", error);\n    }\n  };\n  const deleteUser = async userId => {\n    try {\n      await axios.delete(`http://localhost:5000/api/admin/user/${userId}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      alert(\"User deleted\");\n      fetchUsers(); // Refresh user list\n    } catch (error) {\n      console.error(\"Error deleting user:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      style: {\n        padding: \"20px\",\n        marginTop: \"50px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        align: \"center\",\n        gutterBottom: true,\n        children: \"Admin Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: \"All Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: users.map(user => /*#__PURE__*/_jsxDEV(ListItem, {\n          children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: user.name,\n            secondary: `${user.email} (${user.role})`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"secondary\",\n            onClick: () => deleteUser(user.id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        style: {\n          marginTop: \"20px\"\n        },\n        children: \"All Appointments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: appointments.map(appt => /*#__PURE__*/_jsxDEV(ListItem, {\n          children: /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: `Patient: ${appt.patient_name} | Doctor: ${appt.doctor_name}`,\n            secondary: `Date: ${appt.date_time} | Status: ${appt.status}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this)\n        }, appt.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminDashboard, \"7cWDcCiZSLfggykMCnb02u4hFsw=\");\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","List","ListItem","ListItemText","Button","Paper","axios","jsxDEV","_jsxDEV","AdminDashboard","_s","users","setUsers","appointments","setAppointments","fetchUsers","fetchAppointments","res","get","headers","Authorization","localStorage","getItem","data","error","console","deleteUser","userId","delete","alert","maxWidth","children","elevation","style","padding","marginTop","variant","align","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","map","user","primary","name","secondary","email","role","color","onClick","id","appt","patient_name","doctor_name","date_time","status","_c","$RefreshReg$"],"sources":["/Users/premkalyandavidrajgai/Desktop/Fullstack/Project 3test/hospital-management-system/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Container, Typography, List, ListItem, ListItemText, Button, Paper } from \"@mui/material\";\nimport axios from \"axios\";\n\nfunction AdminDashboard() {\n    const [users, setUsers] = useState([]);\n    const [appointments, setAppointments] = useState([]);\n\n    useEffect(() => {\n        fetchUsers();\n        fetchAppointments();\n    }, []);\n\n    const fetchUsers = async () => {\n        try {\n            const res = await axios.get(\"http://localhost:5000/api/admin/users\", {\n                headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` }\n            });\n            setUsers(res.data);\n        } catch (error) {\n            console.error(\"Error fetching users:\", error);\n        }\n    };\n\n    const fetchAppointments = async () => {\n        try {\n            const res = await axios.get(\"http://localhost:5000/api/admin/appointments\", {\n                headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` }\n            });\n            setAppointments(res.data);\n        } catch (error) {\n            console.error(\"Error fetching appointments:\", error);\n        }\n    };\n\n    const deleteUser = async (userId) => {\n        try {\n            await axios.delete(`http://localhost:5000/api/admin/user/${userId}`, {\n                headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` }\n            });\n            alert(\"User deleted\");\n            fetchUsers(); // Refresh user list\n        } catch (error) {\n            console.error(\"Error deleting user:\", error);\n        }\n    };\n\n    return (\n        <Container maxWidth=\"md\">\n            <Paper elevation={3} style={{ padding: \"20px\", marginTop: \"50px\" }}>\n                <Typography variant=\"h4\" align=\"center\" gutterBottom>Admin Dashboard</Typography>\n\n                <Typography variant=\"h6\">All Users</Typography>\n                <List>\n                    {users.map((user) => (\n                        <ListItem key={user.id}>\n                            <ListItemText primary={user.name} secondary={`${user.email} (${user.role})`} />\n                            <Button variant=\"outlined\" color=\"secondary\" onClick={() => deleteUser(user.id)}>Delete</Button>\n                        </ListItem>\n                    ))}\n                </List>\n\n                <Typography variant=\"h6\" style={{ marginTop: \"20px\" }}>All Appointments</Typography>\n                <List>\n                    {appointments.map((appt) => (\n                        <ListItem key={appt.id}>\n                            <ListItemText \n                                primary={`Patient: ${appt.patient_name} | Doctor: ${appt.doctor_name}`} \n                                secondary={`Date: ${appt.date_time} | Status: ${appt.status}`} \n                            />\n                        </ListItem>\n                    ))}\n                </List>\n            </Paper>\n        </Container>\n    );\n}\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}